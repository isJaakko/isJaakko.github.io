<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="本文参考：https://github.com/aweleey/webpack-antd-demo 在开发 webpack + react + adnt 构建的项目过程中，一直对整个项目架构是一知半解的，所以自己搭建一个项目框架，熟悉一下整个流程以及架构。并且记录下这个过程，便于自己以后查看。 说明目录结构webpack-react-demo ├── README.md">
<meta name="keywords" content="webpack,react">
<meta property="og:type" content="article">
<meta property="og:title" content="webpack + react + antd 项目框架搭建">
<meta property="og:url" content="http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/index.html">
<meta property="og:site_name" content="Jaakko">
<meta property="og:description" content="本文参考：https://github.com/aweleey/webpack-antd-demo 在开发 webpack + react + adnt 构建的项目过程中，一直对整个项目架构是一知半解的，所以自己搭建一个项目框架，熟悉一下整个流程以及架构。并且记录下这个过程，便于自己以后查看。 说明目录结构webpack-react-demo ├── README.md">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-02-15T08:29:06.739Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="webpack + react + antd 项目框架搭建">
<meta name="twitter:description" content="本文参考：https://github.com/aweleey/webpack-antd-demo 在开发 webpack + react + adnt 构建的项目过程中，一直对整个项目架构是一知半解的，所以自己搭建一个项目框架，熟悉一下整个流程以及架构。并且记录下这个过程，便于自己以后查看。 说明目录结构webpack-react-demo ├── README.md">
    
    
        
          
              <link rel="shortcut icon" href="/images/tech.png">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/tech.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/tech.png">
          
        
    
    <!-- title -->
    <title>webpack + react + antd 项目框架搭建</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Archies</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/links/">Links</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/12/19/使用 koa2 搭建服务器/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/12/06/webpack-入门/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&text=webpack + react + antd 项目框架搭建"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&is_video=false&description=webpack + react + antd 项目框架搭建"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=webpack + react + antd 项目框架搭建&body=Check out this article: http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&name=webpack + react + antd 项目框架搭建&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#说明"><span class="toc-number">1.</span> <span class="toc-text">说明</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#目录结构"><span class="toc-number">1.1.</span> <span class="toc-text">目录结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#初始化项目"><span class="toc-number">2.</span> <span class="toc-text">初始化项目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#新建项目"><span class="toc-number">2.1.</span> <span class="toc-text">新建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack"><span class="toc-number">2.2.</span> <span class="toc-text">webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-安装-webpack"><span class="toc-number">2.2.1.</span> <span class="toc-text">1. 安装 webpack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-配置文件"><span class="toc-number">2.2.2.</span> <span class="toc-text">2. 配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#新建配置文件"><span class="toc-number">2.2.3.</span> <span class="toc-text">新建配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">webpack.config.js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-配置-npm-脚本-npm-scripts"><span class="toc-number">2.2.4.</span> <span class="toc-text">3. 配置 npm 脚本(npm scripts)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#package-json"><span class="toc-number">2.2.4.1.</span> <span class="toc-text">package.json</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-执行命令编译文件"><span class="toc-number">2.2.5.</span> <span class="toc-text">4. 执行命令编译文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#index-js"><span class="toc-number">2.2.5.1.</span> <span class="toc-text">index.js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-测试"><span class="toc-number">2.2.6.</span> <span class="toc-text">5. 测试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#index-html"><span class="toc-number">2.2.6.1.</span> <span class="toc-text">index.html</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Babel"><span class="toc-number">2.3.</span> <span class="toc-text">Babel</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装"><span class="toc-number">2.3.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Babel-配置文件"><span class="toc-number">2.3.2.</span> <span class="toc-text">Babel 配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#babelrc"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">.babelrc</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js-1"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">webpack.config.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#index-js-1"><span class="toc-number">2.3.2.3.</span> <span class="toc-text">index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React"><span class="toc-number">2.4.</span> <span class="toc-text">React</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-React"><span class="toc-number">2.4.1.</span> <span class="toc-text">安装 React</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-babel-preset-react"><span class="toc-number">2.4.2.</span> <span class="toc-text">安装 @babel/preset-react</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#babelrc-1"><span class="toc-number">2.4.2.1.</span> <span class="toc-text">.babelrc</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-React"><span class="toc-number">2.4.3.</span> <span class="toc-text">使用 React</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#index-js-2"><span class="toc-number">2.4.3.1.</span> <span class="toc-text">index.js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编写一个-hello-组件"><span class="toc-number">2.4.4.</span> <span class="toc-text">编写一个 hello 组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#hello-index-js"><span class="toc-number">2.4.4.1.</span> <span class="toc-text">hello/index.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#index-js-3"><span class="toc-number">2.4.4.2.</span> <span class="toc-text">index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-antd"><span class="toc-number">2.5.</span> <span class="toc-text">安装 antd</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置-antd-按需加载"><span class="toc-number">2.5.1.</span> <span class="toc-text">配置 antd 按需加载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#babelrc-2"><span class="toc-number">2.5.1.1.</span> <span class="toc-text">.babelrc</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#加载-CSS"><span class="toc-number">2.5.2.</span> <span class="toc-text">加载 CSS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js-2"><span class="toc-number">2.5.2.1.</span> <span class="toc-text">webpack.config.js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-antd-样式"><span class="toc-number">2.5.3.</span> <span class="toc-text">使用 antd 样式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#hello-index-js-1"><span class="toc-number">2.5.3.1.</span> <span class="toc-text">hello/index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#html-webpack-plugin"><span class="toc-number">2.6.</span> <span class="toc-text">html-webpack-plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-1"><span class="toc-number">2.6.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js-3"><span class="toc-number">2.6.1.1.</span> <span class="toc-text">webpack.config.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#src-index-html"><span class="toc-number">2.6.1.2.</span> <span class="toc-text">src/index.html</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#react-router"><span class="toc-number">2.7.</span> <span class="toc-text">react-router</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-2"><span class="toc-number">2.7.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#bye-index-js"><span class="toc-number">2.7.1.1.</span> <span class="toc-text">bye/index.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#router-index-js"><span class="toc-number">2.7.1.2.</span> <span class="toc-text">router/index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-dev-server"><span class="toc-number">2.8.</span> <span class="toc-text">webpack-dev-server</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-3"><span class="toc-number">2.8.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js-4"><span class="toc-number">2.8.1.1.</span> <span class="toc-text">webpack.config.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#code-splitting"><span class="toc-number">2.9.</span> <span class="toc-text">code-splitting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-4"><span class="toc-number">2.9.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#babelrc-3"><span class="toc-number">2.9.1.1.</span> <span class="toc-text">.babelrc</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#router-index-js-1"><span class="toc-number">2.9.1.2.</span> <span class="toc-text">router/index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fetch"><span class="toc-number">2.10.</span> <span class="toc-text">fetch</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-5"><span class="toc-number">2.10.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解析-async-语法"><span class="toc-number">2.10.2.</span> <span class="toc-text">解析 async 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#request-js"><span class="toc-number">2.10.2.1.</span> <span class="toc-text">request.js</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <!-- Highlight.js -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/railscasts.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        webpack + react + antd 项目框架搭建
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">
          
          Jaakko
          </span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-12-10T15:24:36.000Z" itemprop="datePublished">2018-12-10</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/react/">react</a>, <a class="tag-link" href="/tags/webpack/">webpack</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>本文参考：<a href="https://github.com/aweleey/webpack-antd-demo" target="_blank" rel="noopener">https://github.com/aweleey/webpack-antd-demo</a></p>
<p>在开发 webpack + react + adnt 构建的项目过程中，一直对整个项目架构是一知半解的，所以自己搭建一个项目框架，熟悉一下整个流程以及架构。并且记录下这个过程，便于自己以后查看。</p>
<h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><pre><code>webpack-react-demo
├── README.md                       // 本教程
├── package.json
├── pages                           // 放置页面, 业务页面代码
├── src
│   ├── index.html                  // 模板, HtmlWebpackPlugin插件会把相关资源注入后放入dist文件夹
│   ├── index.js                    // 项目入口
│   ├── app.js                      // 页面入口
│   ├── api                         // 请求的api
│   ├── assets                      // 资源文件夹
│   ├── bootstrap                   // 项目入口之前执行
│   │   ├── http-interceptors.js    // 网络请求拦截器
│   │   └── index.js                // bootstrap入口文件
│   ├── common
│   │   ├── constants.js            // 用于存放静态变量
│   │   └── utils.js                // 放置公共方法
│   ├── component                   // 自定义组件 , 例如 Loading 和 404
│   │   ├── Loading
│   │   │   └── index.js
│   │   └── NotFound
│   │       └── index.js
│   ├── I18N                        // 国际化
│   ├── pages                       // 业务页面代码
│   ├── router                      // 路由
│   │   └── index.js
│   └── store                       // 数据管理
│       ├── app.js              
│       ├── index.js                // 入口, 根据业务自行创建
│       └── ui.js
├── webpack.common.js               // webpack 公共配置
└── webpack.config.js                  // webpack 开发配置
</code></pre><h1 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h1><h2 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h2><pre><code>mkdir webpack-react-demo &amp;&amp; npm init -y
</code></pre><h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><h3 id="1-安装-webpack"><a href="#1-安装-webpack" class="headerlink" title="1. 安装 webpack"></a>1. <a href="https://webpack.docschina.org/guides/installation" target="_blank" rel="noopener">安装 webpack</a></h3><pre><code>npm install webpack webpack-cli --save-dev
</code></pre><h3 id="2-配置文件"><a href="#2-配置文件" class="headerlink" title="2. 配置文件"></a>2. 配置文件</h3><h3 id="新建配置文件"><a href="#新建配置文件" class="headerlink" title="新建配置文件"></a>新建配置文件</h3><pre><code>touch webpack.config.js
</code></pre><h4 id="webpack-config-js"><a href="#webpack-config-js" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h4><pre><code>const path = require(&#39;path&#39;);

module.exports = {
    entry: {
        main: &#39;./src/index.js&#39;    // 程序入口
    },
    output: {
        path: path.resolve(__dirname, &#39;dist&#39;),  // 打包后文件输出目录
        filename: &#39;bundle.js&#39;   // 输出文件名
    }
}
</code></pre><h3 id="3-配置-npm-脚本-npm-scripts"><a href="#3-配置-npm-脚本-npm-scripts" class="headerlink" title="3. 配置 npm 脚本(npm scripts)"></a>3. 配置 npm 脚本(npm scripts)</h3><p>新增命令 “dev”，这条命令指定配置文件为 webpack.config.js, 并将模式设置为 “development” （开发环境）。</p>
<h4 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h4><pre><code>&quot;script&quot;: {
    &quot;dev&quot;: &quot;webpack --config webpack.dev.js --mode development&quot;
}
</code></pre><h3 id="4-执行命令编译文件"><a href="#4-执行命令编译文件" class="headerlink" title="4. 执行命令编译文件"></a>4. 执行命令编译文件</h3><p>新建入口文件</p>
<pre><code>mkdir src &amp;&amp; touch ./src/index.js
</code></pre><h4 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h4><p>执行打包命令</p>
<pre><code>npm run dev
</code></pre><p>执行完成后，会在 /dist 目录下生成 bundle.js</p>
<h3 id="5-测试"><a href="#5-测试" class="headerlink" title="5. 测试"></a>5. 测试</h3><p>新建 index.html</p>
<pre><code>touch ./dist/index.html
</code></pre><h4 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h4><pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
    &lt;script src=&quot;./bundle.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>现在，用浏览器打开 index.html，可以看到 “hello webpack”</p>
<h2 id="Babel"><a href="#Babel" class="headerlink" title="Babel"></a>Babel</h2><p>Babel 是一个用于将 ECMAScript 2015+ 代码转换为向后兼容版本的 Javascript 代码的工具链。使用 Babel 后我们无需担心新的语法无法兼容低版本浏览器问题。</p>
<p>Babel 其实是几个模块化的包，其核心功能位于称为 babel-core 的 npm 包中，webpack 可以把其不同的包整合在一起使用，对于每一个你需要的功能或拓展，你都需要安装单独的包（用得最多的是解析 ES6 的 babel-env-preset 包和解析 JSX 的 babel-preset-react 包）。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre><code>npm install --save-dev babel-loader@8 @babel/core @babel/preset-env
</code></pre><blockquote>
<p><a href="https://webpack.docschina.org/loaders/babel-loader/" target="_blank" rel="noopener">babel-loader</a> 是 webpack 的 loader，加载 ES2015+ 代码，然后使用 Babel 转换为 ES5。<br><a href="https://babel.docschina.org/docs/en/babel-core" target="_blank" rel="noopener">@babel/core</a> 调用 Babel 的 API 进行转码<br><a href="https://www.babeljs.cn/docs/plugins/preset-env/" target="_blank" rel="noopener">@babel/preset-env</a> 根据你支持的环境自动决定适合你的 Babel 插件的 Babel preset</p>
</blockquote>
<h3 id="Babel-配置文件"><a href="#Babel-配置文件" class="headerlink" title="Babel 配置文件"></a>Babel 配置文件</h3><h4 id="babelrc"><a href="#babelrc" class="headerlink" title=".babelrc"></a>.babelrc</h4><pre><code>{
    &quot;presets&quot;: [&quot;@babel/preset-env&quot;],
    &quot;plugins&quot;: []
}
</code></pre><h4 id="webpack-config-js-1"><a href="#webpack-config-js-1" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h4><pre><code>const path = require(&#39;path&#39;);

module.exports = {
    entry: {
        main: &#39;./src/index.js&#39;    // 程序入口
    },
    output: {
        path: path.resolve(__dirname, &#39;dist&#39;),  // 打包后文件输出目录
        filename: &#39;bundle.js&#39;   // 输出文件名
    },
    module: {
        rules: [{
            test: /\.js$/,  // 正则匹配 js 文件
            exclude: /node_modules/,    // 排除 node_modules 文件夹
            use: &#39;babel-loader&#39; // 使用 babel-loader 解析 js 文件
        }]
    }
}
</code></pre><blockquote>
<p>当我们使用 /.js$/ 来匹配 JS 文件时，位于 node_modules 中的 JS 文件也会被匹配到并被编译，为了防止这种情况，我们配置 exclude 选项，排除 node_modules 中的文件。<br><a href="https://webpack.docschina.org/configuration/module/#%E6%9D%A1%E4%BB%B6" target="_blank" rel="noopener">更多 rules 选项</a></p>
</blockquote>
<p>修改一下 index.js，使用 ES6 语法。</p>
<h4 id="index-js-1"><a href="#index-js-1" class="headerlink" title="index.js"></a>index.js</h4><pre><code>const useBabel = () =&gt; {
    const app = document.getElementById(&#39;app&#39;);
    app.innerHTML = &#39;&lt;h1&gt;using babel!&lt;/h1&gt;&#39;;
}

useBabel();
</code></pre><p>现在，我们来打包一下文件 ‘npm run dev’，我们可以验证一下 Babel 是否做了转换，打开编译后的 bundle.js 可以看到被编译后的是 ES5 语法。</p>
<h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><h3 id="安装-React"><a href="#安装-React" class="headerlink" title="安装 React"></a>安装 React</h3><pre><code>npm install --save react react-dom
</code></pre><blockquote>
<p>react-dom 是 react 中的部分功能拆分独立出来的包。 </p>
</blockquote>
<p>为了让 Webpack 正确执行 React 语法，我们还需要使用 @babel/preset-react 编译 React 语法。</p>
<h3 id="安装-babel-preset-react"><a href="#安装-babel-preset-react" class="headerlink" title="安装 @babel/preset-react"></a>安装 @babel/preset-react</h3><pre><code>npm inatsll @babel/preset-react --save-dev
</code></pre><h4 id="babelrc-1"><a href="#babelrc-1" class="headerlink" title=".babelrc"></a>.babelrc</h4><pre><code>{
    &quot;presets&quot;: [&quot;@babel/preset-env&quot;, &quot;@babel/preset-react&quot;],
    &quot;plugins&quot;: []
}
</code></pre><h3 id="使用-React"><a href="#使用-React" class="headerlink" title="使用 React"></a>使用 React</h3><h4 id="index-js-2"><a href="#index-js-2" class="headerlink" title="index.js"></a>index.js</h4><pre><code>import React from &#39;react&#39;;
import { render } from &#39;react-dom&#39;;

render(&lt;div&gt;Hello React&lt;/div&gt;, document.getElementById(&#39;app&#39;));
</code></pre><p>现在编译一下代码 ‘npm run dev’，打开浏览器，就可以看到效果了。</p>
<blockquote>
<p>介绍一下 vscode 好用的 <a href="https://xiaogliu.github.io/2017/12/26/develop-react-using-vscode/" target="_blank" rel="noopener">react 格式化插件</a></p>
</blockquote>
<h3 id="编写一个-hello-组件"><a href="#编写一个-hello-组件" class="headerlink" title="编写一个 hello 组件"></a>编写一个 hello 组件</h3><p>新建文件 src/component/hello</p>
<pre><code>cd src &amp;&amp; mkdir component
cd component &amp;&amp; mkdir hello
cd hello &amp;&amp; touch index.js
</code></pre><h4 id="hello-index-js"><a href="#hello-index-js" class="headerlink" title="hello/index.js"></a>hello/index.js</h4><pre><code>import React, {
    Component
} from &#39;react&#39;;

export default class Hello extends Component {
    render() {
        return (
            &lt;div&gt;
                &lt;h1&gt; hello component&lt;/h1&gt;
            &lt;/div&gt;
        );
    }
}
</code></pre><h4 id="index-js-3"><a href="#index-js-3" class="headerlink" title="index.js"></a>index.js</h4><pre><code>import React from &quot;react&quot;;
import { render } from &quot;react-dom&quot;;
import Hello from &#39;./component/hello&#39;;

render(&lt;div&gt;
    &lt;Hello&gt;&lt;/Hello&gt;
&lt;/div&gt;, document.getElementById(&quot;app&quot;));
</code></pre><h2 id="安装-antd"><a href="#安装-antd" class="headerlink" title="安装 antd"></a>安装 antd</h2><pre><code>npm i antd --save
</code></pre><h3 id="配置-antd-按需加载"><a href="#配置-antd-按需加载" class="headerlink" title="配置 antd 按需加载"></a>配置 antd 按需加载</h3><p>配置了<a href="https://ant.design/docs/react/introduce-cn#%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD" target="_blank" rel="noopener">按需加载</a>后，无需为模块单独引入样式。</p>
<pre><code>npm i babel-plugin-import --save-dev
</code></pre><h4 id="babelrc-2"><a href="#babelrc-2" class="headerlink" title=".babelrc"></a>.babelrc</h4><pre><code>{
    &quot;presets&quot;: [&quot;@babel/preset-env&quot;, &quot;@babel/preset-react&quot;],
    &quot;plugins&quot;: [
        [
            &quot;import&quot;,
            {
                &quot;libraryName&quot;: &quot;antd&quot;,
                &quot;libraryDirectory&quot;: &quot;es&quot;,
                &quot;style&quot;: &quot;css&quot;
            }
        ]
    ]
}
</code></pre><h3 id="加载-CSS"><a href="#加载-CSS" class="headerlink" title="加载 CSS"></a>加载 CSS</h3><p>安装 webpack 加载 CSS 的工具：css-loader 和 style-loader</p>
<pre><code>npm i css-loader style-loader --save-dev
</code></pre><h4 id="webpack-config-js-2"><a href="#webpack-config-js-2" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h4><pre><code>const path = require(&#39;path&#39;);

module.exports = {
    entry: {
        main: &#39;./src/index.js&#39;    // 程序入口
    },
    output: {
        path: path.resolve(__dirname, &#39;dist&#39;),  // 打包后文件输出目录
        filename: &#39;bundle.js&#39;   // 输出文件名
    },
    module: {
        rules: [{
            test: /\.js$/,
            exclude: /node_modules/,    // 不解析 node_modules 文件夹
            use: &#39;babel-loader&#39;
        }, {
            test: /\.css$/,
            use: [&quot;style-loader&quot;, &quot;css-loader&quot;]    
        }]
    }
}
</code></pre><h3 id="使用-antd-样式"><a href="#使用-antd-样式" class="headerlink" title="使用 antd 样式"></a>使用 antd 样式</h3><p>在 Hello 组件中使用 antd/Alert 组件</p>
<h4 id="hello-index-js-1"><a href="#hello-index-js-1" class="headerlink" title="hello/index.js"></a>hello/index.js</h4><pre><code>import React, {
    Component
} from &#39;react&#39;;
import { Alert } from &#39;antd&#39;;

export default class Hello extends Component {
    render() {
        return (&lt;div&gt;
            &lt;h1&gt; hello component&lt;/h1&gt;
            &lt;Alert message=&quot;Success Text&quot; type=&quot;success&quot; /&gt;
        &lt;/div&gt;
        );
    }
}
</code></pre><p>打包一下文件 ‘npm run dev’，现在可以看到 antd 的样式已经被引进来了。</p>
<h2 id="html-webpack-plugin"><a href="#html-webpack-plugin" class="headerlink" title="html-webpack-plugin"></a>html-webpack-plugin</h2><p>目前我们的 bundle.js 是手动在 index.html 中引入的，现在我们要让 bundle.js 自动插入 index.html。需要用到 webpack 插件 html-webpack-plugin</p>
<h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><pre><code>npm install html-webpack-plugin --save-dev
</code></pre><h4 id="webpack-config-js-3"><a href="#webpack-config-js-3" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h4><pre><code>const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = {
    entry: {
        main: &#39;./src/index.js&#39;    // 程序入口
    },
    output: {
        path: path.resolve(__dirname, &#39;dist&#39;),  // 打包后文件输出目录
        filename: &#39;bundle.js&#39;   // 输出文件名
    },
    module: {
        rules: [{
            test: /\.js$/,
            exclude: /node_modules/,
            use: &#39;babel-loader&#39;
        }, {
            test: /\.css$/,
            use: [&quot;style-loader&quot;, &quot;css-loader&quot;]    
        }]
    },
    plugins: [
        new HtmlWebpackPlugin({
            filename: &#39;index.html&#39;, // 输出文件名
            template: path.join(__dirname, &#39;src/index.html&#39;)    // html 模板文件位置
        })
    ]
}
</code></pre><p>在 src 目录下新建一个模板文件</p>
<h4 id="src-index-html"><a href="#src-index-html" class="headerlink" title="src/index.html"></a>src/index.html</h4><pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;wenpack-react-demo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>现在删除 dist 目录下所有文件，打包一下程序 ‘npm run dev’，可以看到 dist 目录下 index.html 中 bundle.js 被自动引入。</p>
<h2 id="react-router"><a href="#react-router" class="headerlink" title="react-router"></a>react-router</h2><h3 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h3><pre><code>npm install --save-dev react-router-dom
</code></pre><p>新建路由文件夹</p>
<pre><code>cd src 
mkdir router &amp;&amp; touch ./router/index.js
</code></pre><p>component 下新建一个 bye 组件</p>
<pre><code>mkdir bye &amp;&amp; touch ./bye/index.js
</code></pre><h4 id="bye-index-js"><a href="#bye-index-js" class="headerlink" title="bye/index.js"></a>bye/index.js</h4><pre><code>import React, { Component } from &#39;react&#39;;
import { Alert } from &#39;antd&#39;;

export default class TestRouter extends Component {
    render() {
        return (&lt;div&gt;
            &lt;h1&gt;Bye Component&lt;/h1&gt;
            &lt;Alert message=&quot;info Text&quot; type=&quot;info&quot; /&gt;
        &lt;/div&gt;)
    }
}
</code></pre><p>src 下新建 router 文件夹</p>
<pre><code>mkdir router &amp;&amp; touch ./router/index.js
</code></pre><p>编写一个基本的路由</p>
<h4 id="router-index-js"><a href="#router-index-js" class="headerlink" title="router/index.js"></a>router/index.js</h4><pre><code>import React from &#39;react&#39;;
import { HashRouter as Router, Route, Link, Switch } from &#39;react-router-dom&#39;;
import Hello from &#39;../component/hello&#39;;
import Bye from &#39;../component/bye&#39;;

const Home = () =&gt; (
    &lt;div&gt;
        &lt;h1&gt;This is home page!&lt;/h1&gt;
    &lt;/div&gt;
)

const getApp = () =&gt; (
    &lt;Router&gt;
        &lt;div&gt;
            &lt;ul&gt;
                &lt;li&gt;&lt;Link to=&#39;/hello&#39;&gt;home&lt;/Link&gt;&lt;/li&gt;
                &lt;li&gt;&lt;Link to=&#39;/bye&#39;&gt;bye&lt;/Link&gt;&lt;/li&gt;
            &lt;/ul&gt;

            &lt;hr /&gt;

            &lt;Switch&gt;
                &lt;Route path=&#39;/hello&#39; component={ Hello } /&gt;
                &lt;Route path=&#39;/bye&#39; component={ Bye } /&gt;
            &lt;/Switch&gt;

        &lt;/div&gt;
    &lt;/Router&gt;
)

export default getApp;
</code></pre><blockquote>
<p>Link 是为了在页面上添加一个跳转的链接，Route 将路径与组件对应起来。</p>
</blockquote>
<p>此时，我们的路由使用的是 HashRouter，是通过在路径后加 ‘#’,来区分不同的页面，这样做有点不太美观，不过，它能兼容老版本浏览器。如果不想要路径中的 ‘#’，我们需要使用 BrowerRouter。</p>
<p>同时，我们需要使用 webpack-dev-server 提供一个本地服务器。</p>
<h2 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h2><p><a href="https://webpack.docschina.org/configuration/dev-server/" target="_blank" rel="noopener">webpack-dev-server</a> 允许我们在不重新打包文件的情况下，自动监听我们的代码改动并实时编译刷新。</p>
<h3 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h3><pre><code>npm install --save-dev webpack-dev-server
</code></pre><p>修改配置文件</p>
<h4 id="webpack-config-js-4"><a href="#webpack-config-js-4" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h4><pre><code>const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = {
    // ...
    devServer: {
        contentBase: path.join(__dirname, &#39;dist&#39;),  // 监听位置
        port: 9000,  // 设置服务器端口
        open: true,
        historyApiFallback: true // 将所有 404 都返回 index.html
    }
}
</code></pre><blockquote>
<p>假如这里没有配置 “historyApiFallback: true”，那么当我们在浏览器地址栏直接输入某个页面 url 后，会返回 “404 not found”。<br>这篇 <a href="https://molunerfinn.com/fe-be-router-render" target="_blank" rel="noopener">浅谈前后端路由与前后端渲染</a> 很详细地介绍了原因及解决办法。</p>
</blockquote>
<p>我们使用 webpack-dev-server 方便我们前端代码调试，但是如果需要处理路由请求，我们必须要拥有一个属于我们自己的服务器，服务器搭建方法见 <a href="https://isjaakko.github.io/2018/12/19/%E4%BD%BF%E7%94%A8%20koa2%20%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/" target="_blank" rel="noopener">这里</a>。</p>
<h2 id="code-splitting"><a href="#code-splitting" class="headerlink" title="code-splitting"></a>code-splitting</h2><p>在一个较大的项目里，加载完所有常常需要很长的时间，但我们并不需要一次性加载完所有的组件，而更希望在我们用到的时候再去加载它，这就是 code-splitting。<br>在我们的 React 项目中，我们可以使用 <a href="https://zhuanlan.zhihu.com/p/25874892" target="_blank" rel="noopener">React Loadable</a> 来实现按需加载。<br>webpack 的 <a href="https://segmentfault.com/a/1190000010253013" target="_blank" rel="noopener">dynamic import</a> 实现主要利用 ECMAScript 的 import() 动态加载特性，而 import() 目前只是一个草案，如果需要使用此方法，需要引入对应 转换器 “babel-plugin-syntax-dynamic-import”</p>
<h3 id="安装-4"><a href="#安装-4" class="headerlink" title="安装"></a>安装</h3><pre><code>npm i react-loadable --save
npm install babel-plugin-syntax-dynamic-import --save-dev
</code></pre><h4 id="babelrc-3"><a href="#babelrc-3" class="headerlink" title=".babelrc"></a>.babelrc</h4><pre><code>{
    // ...
    &quot;plugins&quot;: [
        // ...
        &quot;syntax-dynamic-import&quot;
    ]
}
</code></pre><p>我们修改一下 router/index.js，使用 import() 来代替 import</p>
<h4 id="router-index-js-1"><a href="#router-index-js-1" class="headerlink" title="router/index.js"></a>router/index.js</h4><pre><code>import React from &#39;react&#39;;
import { BrowserRouter as Router, Route, Link, Switch } from &#39;react-router-dom&#39;;
import Loadable from &#39;react-loadable&#39;;
// 删除原来的 import 引入组件方式
// import Hello from &#39;../component/hello&#39;;
// import Bye from &#39;../component/bye&#39;;

// 定义一个简单的 Loading 状态组件
function MyLoadingComponent() {
    return &lt;div&gt;Loading...&lt;/div&gt;;
}

// 使用 Loadable、import() 来动态引入组件
const Hello = Loadable({
    loader: () =&gt; import(&#39;../component/hello&#39;),
    loading: MyLoadingComponent
})
const Bye = Loadable({
    loader: () =&gt; import(&#39;../component/bye&#39;),
    loading: MyLoadingComponent
})

const getApp = () =&gt; (
    &lt;Router&gt;
        &lt;div&gt;
            &lt;ul&gt;
                &lt;li&gt;&lt;Link to=&#39;/hello&#39;&gt;home&lt;/Link&gt;&lt;/li&gt;
                &lt;li&gt;&lt;Link to=&#39;/bye&#39;&gt;bye&lt;/Link&gt;&lt;/li&gt;
            &lt;/ul&gt;

            &lt;hr /&gt;

            &lt;Switch&gt;
                &lt;Route path=&#39;/hello&#39; component={ Hello } /&gt;
                &lt;Route path=&#39;/bye&#39; component={ Bye } /&gt;
            &lt;/Switch&gt;

        &lt;/div&gt;
    &lt;/Router&gt;
)

export default getApp;
</code></pre><p>现在，只有当路由匹配时，才会引入相应的组件的 js 文件，达到了 code-splitting 的效果。</p>
<h2 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h2><p>我们还需要发送网络请求，这里我们选用 fetch。</p>
<h3 id="安装-5"><a href="#安装-5" class="headerlink" title="安装"></a>安装</h3><pre><code>npm i isomorphic-fetch --save
</code></pre><p>isomorphic-fetch 的优点是既能兼容浏览器端，又能兼容 node 端。</p>
<p>引入 isomorphic-fetch 后会提供一个全局的 fentch 方法。</p>
<h3 id="解析-async-语法"><a href="#解析-async-语法" class="headerlink" title="解析 async 语法"></a>解析 async 语法</h3><p>我们来封装一个网络请求的方法</p>
<h4 id="request-js"><a href="#request-js" class="headerlink" title="request.js"></a>request.js</h4><pre><code>require(&#39;isomorphic-fetch&#39;);

const site = &#39;127.0.0.1&#39;;

module.exports = ({
    url = &#39;/&#39;,
    port = 3030,
    method = &#39;get&#39;
}) =&gt; {
    console.log(&#39;requuest!!&#39;);

    return fetch(`http://${site}:${port}${url}`, {
        method: method.toLowerCase(),
        headers: {
            &#39;Content-Type&#39;: &#39;application/json&#39;,
        },
        credentials: &quot;same-origin&quot;
    }).then(res =&gt; {
        if (res.ok) {
            return res.json()
        }
    }).then(data =&gt; {
        return data;
    })
}
</code></pre><p>现在来通过 request 方法发送一次请求。</p>
<p>方法如下：</p>
<pre><code>async getInfo() {
    const data = await request({url: &#39;/api/about&#39;});
    return data;
}
</code></pre><p>此时会报错 ‘Uncaught ReferenceError: regeneratorRuntime is not defined’，是因为缺少解析 ES6 generator 语法功能</p>
<p>我们需要使用 <a href="https://babeljs.io/docs/en/babel-plugin-transform-runtime" target="_blank" rel="noopener">@babel/plugin-transform-runtime 插件</a>来转换 async 语法</p>
<pre><code>npm install --save-dev @babel/plugin-transform-runtime
</code></pre><p>@babel/runtime 提供产品环境依赖</p>
<pre><code>npm install --save @babel/runtime
</code></pre>
  </div>
  
  <!-- jquery -->
  <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
  <!-- Link Gitalk 的支持文件  -->
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
  <script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script>
  <div id="gitalk-container"></div>

  <script type="text/javascript">
    // 添加 Gitalk 评论
    var gitalk = new Gitalk({
      // gitalk的主要参数
      clientID: `04e1c6f9c3fdcd763c0a`,
      clientSecret: `7840a92390d774fcf91fd2a16e1e595c1e6e1884`,
      repo: `blog-comment`,
      owner: 'isJaakko',
      admin: ['isJaakko'],
      id: md5(location.pathname),
      createIssueManually: true,
    });
    gitalk.render('gitalk-container');

    // 添加行号
    window.addEventListener('load', function(){
      $(".hljs").each(function() {
        $(this).html("<ul><li>" + $(this).html().replace(/\n/g,"\n</li><li>") +"\n</li></ul>");
      });
    })
  </script>

</article>
    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Archies</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/links/">Links</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#说明"><span class="toc-number">1.</span> <span class="toc-text">说明</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#目录结构"><span class="toc-number">1.1.</span> <span class="toc-text">目录结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#初始化项目"><span class="toc-number">2.</span> <span class="toc-text">初始化项目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#新建项目"><span class="toc-number">2.1.</span> <span class="toc-text">新建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack"><span class="toc-number">2.2.</span> <span class="toc-text">webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-安装-webpack"><span class="toc-number">2.2.1.</span> <span class="toc-text">1. 安装 webpack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-配置文件"><span class="toc-number">2.2.2.</span> <span class="toc-text">2. 配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#新建配置文件"><span class="toc-number">2.2.3.</span> <span class="toc-text">新建配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">webpack.config.js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-配置-npm-脚本-npm-scripts"><span class="toc-number">2.2.4.</span> <span class="toc-text">3. 配置 npm 脚本(npm scripts)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#package-json"><span class="toc-number">2.2.4.1.</span> <span class="toc-text">package.json</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-执行命令编译文件"><span class="toc-number">2.2.5.</span> <span class="toc-text">4. 执行命令编译文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#index-js"><span class="toc-number">2.2.5.1.</span> <span class="toc-text">index.js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-测试"><span class="toc-number">2.2.6.</span> <span class="toc-text">5. 测试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#index-html"><span class="toc-number">2.2.6.1.</span> <span class="toc-text">index.html</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Babel"><span class="toc-number">2.3.</span> <span class="toc-text">Babel</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装"><span class="toc-number">2.3.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Babel-配置文件"><span class="toc-number">2.3.2.</span> <span class="toc-text">Babel 配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#babelrc"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">.babelrc</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js-1"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">webpack.config.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#index-js-1"><span class="toc-number">2.3.2.3.</span> <span class="toc-text">index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React"><span class="toc-number">2.4.</span> <span class="toc-text">React</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-React"><span class="toc-number">2.4.1.</span> <span class="toc-text">安装 React</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-babel-preset-react"><span class="toc-number">2.4.2.</span> <span class="toc-text">安装 @babel/preset-react</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#babelrc-1"><span class="toc-number">2.4.2.1.</span> <span class="toc-text">.babelrc</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-React"><span class="toc-number">2.4.3.</span> <span class="toc-text">使用 React</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#index-js-2"><span class="toc-number">2.4.3.1.</span> <span class="toc-text">index.js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编写一个-hello-组件"><span class="toc-number">2.4.4.</span> <span class="toc-text">编写一个 hello 组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#hello-index-js"><span class="toc-number">2.4.4.1.</span> <span class="toc-text">hello/index.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#index-js-3"><span class="toc-number">2.4.4.2.</span> <span class="toc-text">index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-antd"><span class="toc-number">2.5.</span> <span class="toc-text">安装 antd</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置-antd-按需加载"><span class="toc-number">2.5.1.</span> <span class="toc-text">配置 antd 按需加载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#babelrc-2"><span class="toc-number">2.5.1.1.</span> <span class="toc-text">.babelrc</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#加载-CSS"><span class="toc-number">2.5.2.</span> <span class="toc-text">加载 CSS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js-2"><span class="toc-number">2.5.2.1.</span> <span class="toc-text">webpack.config.js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-antd-样式"><span class="toc-number">2.5.3.</span> <span class="toc-text">使用 antd 样式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#hello-index-js-1"><span class="toc-number">2.5.3.1.</span> <span class="toc-text">hello/index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#html-webpack-plugin"><span class="toc-number">2.6.</span> <span class="toc-text">html-webpack-plugin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-1"><span class="toc-number">2.6.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js-3"><span class="toc-number">2.6.1.1.</span> <span class="toc-text">webpack.config.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#src-index-html"><span class="toc-number">2.6.1.2.</span> <span class="toc-text">src/index.html</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#react-router"><span class="toc-number">2.7.</span> <span class="toc-text">react-router</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-2"><span class="toc-number">2.7.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#bye-index-js"><span class="toc-number">2.7.1.1.</span> <span class="toc-text">bye/index.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#router-index-js"><span class="toc-number">2.7.1.2.</span> <span class="toc-text">router/index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-dev-server"><span class="toc-number">2.8.</span> <span class="toc-text">webpack-dev-server</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-3"><span class="toc-number">2.8.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack-config-js-4"><span class="toc-number">2.8.1.1.</span> <span class="toc-text">webpack.config.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#code-splitting"><span class="toc-number">2.9.</span> <span class="toc-text">code-splitting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-4"><span class="toc-number">2.9.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#babelrc-3"><span class="toc-number">2.9.1.1.</span> <span class="toc-text">.babelrc</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#router-index-js-1"><span class="toc-number">2.9.1.2.</span> <span class="toc-text">router/index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fetch"><span class="toc-number">2.10.</span> <span class="toc-text">fetch</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-5"><span class="toc-number">2.10.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解析-async-语法"><span class="toc-number">2.10.2.</span> <span class="toc-text">解析 async 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#request-js"><span class="toc-number">2.10.2.1.</span> <span class="toc-text">request.js</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&text=webpack + react + antd 项目框架搭建"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&is_video=false&description=webpack + react + antd 项目框架搭建"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=webpack + react + antd 项目框架搭建&body=Check out this article: http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&title=webpack + react + antd 项目框架搭建"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2018/12/10/webpack-react-antd-项目框架搭建/&name=webpack + react + antd 项目框架搭建&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 Jaakko Yin
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Archies</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/links/">Links</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-37473492-6', 'auto');
        ga('send', 'pageview');
    </script>



